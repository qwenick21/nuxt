export const state = () => ({
    tableData: [
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160557",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160558",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160559",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160600",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160601",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160602",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160603",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160604",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160605",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160606",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160607",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160608",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
        {
            date: "2022 - 11 - 16",
            value: "Happy20221116160609",
            person: "庫洛洛",
            note: "嘿嘿嘿嘿",
            payType: "1",
            sumPrice: 13000,
            products: [
                {
                    name: "手榴彈",
                    price: 200,
                    number: 20,
                },
                {
                    name: "機關槍",
                    price: 300,
                    number: 30,
                },
            ],
        },
    ],
    detailData: {},
})

export const getters = {
    dataCount: (state) => state.tableData.length
}

export const mutations = {
    SET_DETAILDATA(state, payload) {
        state.detailData = payload
    },
    SET_TABLEDATA(state, payload) {
        const index = state.tableData.findIndex(e => e.value === payload.value)
        if (index === -1) {
            state.tableData.push(payload)
            return
        }
        state.tableData[index] = payload
    },
    DELETE_TABLEDATA(state, payload) {
        state.tableData.splice(payload, 1)
    }
}

export const actions = {
    setDetailData({ commit }, object) {
        commit("SET_DETAILDATA", object)
    },
    setTableData({ commit }, object) {
        commit("SET_TABLEDATA", object)
    },
    deleteTableData({ commit }, index) {
        commit("DELETE_TABLEDATA", index)
    }
}